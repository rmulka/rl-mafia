{"version":3,"sources":["images/mafia.jpg","images/citizens.jpg","components/LobbyPage/LobbyPage.module.css","components/LobbyCard/LobbyCard.js","components/AllLobbiesBox/AllLobbiesBox.js","components/PlayerCard/PlayerCard.js","components/LobbyPlayersList/LobbyPlayersList.js","components/NumMafiaInput/NumMafiaInput.js","components/LobbyPage/LobbyPage.js","components/Home/Home.js","components/NameEntry/NameEntry.js","components/Main/Main.js","App.js","serviceWorker.js","index.js","components/LobbyCard/LobbyCard.module.css","components/Home/Home.module.css","components/NameEntry/NameEntry.module.css","components/AllLobbiesBox/AllLobbiesBox.module.css","components/PlayerCard/PlayerCard.module.css","components/NumMafiaInput/NumMafiaInput.module.css","components/LobbyPlayersList/LobbyPlayersList.module.css","components/Main/Main.module.css"],"names":["module","exports","LobbyCard","props","useState","players","numPlayers","setNumPlayers","inProgress","setInProgress","useEffect","socket","on","lobbyId","inProgressText","Typography","style","fontSize","className","styles","inProgressGameText","openGameText","joinButton","Button","color","variant","disabled","onClick","setCurrentPlayerLobbyId","emit","userId","Card","card","cardContent","cardTitle","creatorName","cardBody","cardNumPlayers","AllLobbiesBox","lobbies","setLobbies","lobbyIds","Object","keys","playerInfoMap","length","noGamesMessage","allLobbies","map","key","PlayerCard","playerCard","playerName","name","LobbyPlayersList","initialState","creatorId","lobbyPlayerIds","lobbyState","setLobbyState","allPlayerCards","id","idx","NumMafiaInput","numError","setNumError","handleTextChange","event","numMaf","target","value","isNaN","numMafia","current","TextField","textField","error","helperText","onChange","type","defaultValue","LobbyPage","isMafia","setIsMafia","lobbyInfo","setLobbyInfo","numMafiaRef","useRef","numPlayersRef","randomMafia","leaveGame","startGame","endGame","Box","container","mafiaBox","mafiaDeclaration","assignmentImage","src","require","alt","button","gameTitle","htmlFor","mafiaMembersLabel","playersBox","gameButtons","Home","currentPlayerLobbyId","socketActive","setSocketActive","socketRef","io","transports","upgrade","window","addEventListener","homeContent","nameRow","backToNameChange","navLink","to","size","startIcon","signedInAsText","createLobbyButton","uuid","v1","NameEntry","authenticate","onSubmit","greeting","nameInput","nameLabel","nameTextBox","e","setName","placeholder","submitButton","Main","isAuthenticated","setIsAuthenticated","setId","history","useHistory","useCallback","preventDefault","push","main","exact","path","render","App","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0a067980.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mafia.d5939b3d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/citizens.7f95e80a.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"assignmentImage\":\"LobbyPage_assignmentImage__92rRE\",\"button\":\"LobbyPage_button__1degH\",\"container\":\"LobbyPage_container__2RfcN\",\"gameButtons\":\"LobbyPage_gameButtons__1HVp0\",\"gameTitle\":\"LobbyPage_gameTitle__1WG1G\",\"mafiaBox\":\"LobbyPage_mafiaBox__u37lf\",\"mafiaDeclaration\":\"LobbyPage_mafiaDeclaration__2oSEM\",\"mafiaMembersLabel\":\"LobbyPage_mafiaMembersLabel__LvfC6\",\"playersBox\":\"LobbyPage_playersBox__D10Fu\"};","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport styles from './LobbyCard.module.css';\n\nconst LobbyCard = (props) => {\n    const [numPlayers, setNumPlayers] = useState(props.players);\n    const [inProgress, setInProgress] = useState(false);\n\n    useEffect(() => {\n        props.socket.on(`lobby-playerNum-update_${props.lobbyId}`, numPlayers => {\n            setNumPlayers(numPlayers);\n        });\n\n        props.socket.on(`lobby-status-update_${props.lobbyId}`, inProgress => {\n            setInProgress(inProgress);\n        });\n    }, [props.lobbyId, props.socket]);\n\n    const joinGame = () => {\n        props.setCurrentPlayerLobbyId(props.lobbyId);\n        props.socket.emit('joined-lobby', props.lobbyId, props.userId);\n    };\n\n    const inProgressText = inProgress\n        ? <Typography style={{ fontSize: '0.4em' }} className={styles.inProgressGameText}>In progress...</Typography>\n        : <Typography style={{ fontSize: '0.4em' }} className={styles.openGameText}>Open</Typography>;\n\n    const joinButton = inProgress\n        ? <Button color='primary' variant='contained' disabled>Join Game</Button>\n        : <Button color='primary' onClick={joinGame} variant='contained'>Join Game</Button>;\n\n    return (\n        <Card className={styles.card} variant=\"outlined\">\n            <div className={styles.cardContent}>\n                <Typography style={{ fontSize: '1.5em' }} className={styles.cardTitle} variant=\"h5\">{props.creatorName}'s Game</Typography>\n                <div className={styles.cardBody}>\n                    {inProgressText}\n                </div>\n                <Typography style={{ fontSize: '1.3em' }} className={styles.cardNumPlayers}>Players: {numPlayers}</Typography>\n                <div className={styles.joinButton}>{joinButton}</div>\n            </div>\n        </Card>\n    )\n};\n\nexport default LobbyCard;","import React, { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport LobbyCard from '../LobbyCard/LobbyCard';\nimport styles from './AllLobbiesBox.module.css';\n\nconst AllLobbiesBox = (props) => {\n    const [lobbies, setLobbies] = useState({});\n\n    const lobbyIds = Object.keys(lobbies);\n\n    useEffect(() => {\n        props.socket.emit('state-request');\n\n        props.socket.on('lobby-state', ({ lobbies, playerInfoMap }) => {\n            setLobbies(lobbies)\n        })\n    }, [props.socket]);\n\n    return lobbyIds.length === 0\n    ? (\n        <Typography className={styles.noGamesMessage} variant='h3'>No mafia games to display</Typography>\n    ) : (\n        <div className={styles.allLobbies}>\n            {lobbyIds.map((lobbyId) => (\n                <LobbyCard\n                    key={lobbyId}\n                    lobbyId={lobbyId}\n                    userId={props.userId}\n                    creatorName={lobbies[lobbyId].creatorName}\n                    players={lobbies[lobbyId].players}\n                    setCurrentPlayerLobbyId={props.setCurrentPlayerLobbyId}\n                    socket={props.socket}\n                />\n            ))}\n        </div>\n    )\n};\n\nexport default AllLobbiesBox;","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport styles from './PlayerCard.module.css';\n\nconst PlayerCard = (props) => {\n    return (\n        <Card className={styles.playerCard} variant=\"outlined\">\n            <Typography className={styles.playerName} variant='h5'>{props.name}</Typography>\n        </Card>\n    )\n};\n\nexport default PlayerCard;","import React, { useEffect, useState } from 'react';\nimport PlayerCard from '../PlayerCard/PlayerCard';\nimport styles from './LobbyPlayersList.module.css';\n\nconst LobbyPlayersList = (props) => {\n    const initialState = {\n        playerInfoMap: {\n            [props.creatorId]: { name: props.creatorName },\n        },\n        lobbyPlayerIds: [props.creatorId],\n    };\n\n    const [lobbyState, setLobbyState] = useState(initialState);\n    \n    useEffect(() => {\n        props.socket.on(`lobby-playerId-update_${props.lobbyId}`, ({ lobbyPlayerIds, playerInfoMap }) => {\n            setLobbyState({ playerInfoMap, lobbyPlayerIds });\n        })\n    }, [props.lobbyId, props.socket]);\n    \n    return (\n        <div className={styles.allPlayerCards}>\n            {lobbyState.lobbyPlayerIds.map((id, idx) => (\n                <PlayerCard key={idx} name={lobbyState.playerInfoMap[id].name} />\n            ))}\n        </div>\n    )\n};\n\nexport default LobbyPlayersList;","import React, { useEffect, useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport styles from './NumMafiaInput.module.css';\n\nconst NumMafiaInput = (props) => {\n    const [numError, setNumError] = useState(false);\n    const [numPlayers, setNumPlayers] = useState(1);\n\n    useEffect(() => {\n        props.socket.on(`lobby-playerNum-update_${props.lobbyId}`, numPlayers => {\n            setNumPlayers(numPlayers);\n        });\n    });\n\n    const handleTextChange = (event) => {\n        const numMaf = event.target.value;\n        if (isNaN(numMaf) || (numMaf < 1 || numMaf > numPlayers)) {\n            setNumError(true);\n        } else {\n            setNumError(false);\n            props.numMafia.current = numMaf;\n        }\n    };\n\n    return (\n        !numError\n        ? <TextField className={styles.textField}\n                     id='standard number'\n                     variant='outlined'\n                     type='number'\n                     defaultValue={0}\n                     onChange={handleTextChange}\n        />\n        : <TextField className={styles.textField}\n                     error\n                     id='outlined-error-helper-text'\n                     helperText={`Enter number 1 to ${numPlayers}`}\n                     variant='outlined'\n                     onChange={handleTextChange}\n        />\n    );\n};\n\nexport default NumMafiaInput;","import React, { useState, useEffect, useRef } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport LobbyPlayersList from '../LobbyPlayersList/LobbyPlayersList';\nimport NumMafiaInput from '../NumMafiaInput/NumMafiaInput';\nimport styles from './LobbyPage.module.css';\n\nconst LobbyPage = (props) => {\n    const [isMafia, setIsMafia] = useState(null);\n    const [lobbyInfo, setLobbyInfo] = useState({});\n    const [inProgress, setInProgress] = useState(false);\n\n    const numMafiaRef = useRef(0);\n    const numPlayersRef = useRef(1);\n\n    useEffect(() => {\n        props.socket.on('lobby-info', lobbyInfo => {\n            setLobbyInfo(lobbyInfo);\n        });\n    }, [props.socket]);\n\n    useEffect(() => {\n        props.socket.on(`game-assignments_${props.lobbyId}`, randomMafia => {\n            setIsMafia(randomMafia[props.userId]);\n        });\n\n        props.socket.on(`lobby-status-update_${props.lobbyId}`, inProgress => {\n            setInProgress(inProgress);\n        });\n\n    }, [props.lobbyId, props.socket, props.userId]);\n\n    useEffect(() => {\n        props.socket.on(`lobby-playerNum-update_${props.lobbyId}`, numPlayers => {\n            numPlayersRef.current = numPlayers;\n        });\n    });\n\n    const leaveGame = () => {\n        props.socket.emit('left-lobby', props.lobbyId, props.userId);\n        props.setCurrentPlayerLobbyId(null);\n    };\n\n    const startGame = () => {\n        const numMaf = numMafiaRef.current;\n        if (!isNaN(numMaf) && numMaf > 0 && numMaf <= numPlayersRef.current) {\n            props.socket.emit('started-game', props.lobbyId, numMafiaRef.current);\n        }\n    };\n\n    const endGame = () => { props.socket.emit('ended-game', props.lobbyId) };\n\n    const GameInProgress = () => (\n        <>\n            <div className={styles.mafiaBox}>\n                <Typography className={styles.mafiaDeclaration} variant='h4'>\n                    {isMafia ? 'You are in the mafia' : 'You are part of the citizens'}\n                </Typography>\n                {isMafia\n                ? <img className={styles.assignmentImage} src={ require('../../images/mafia.jpg') } alt='mafia' />\n                : <img className={styles.assignmentImage} src={ require('../../images/citizens.jpg') } alt='citizens' />}\n            </div>\n            {lobbyInfo.creatorId === props.userId &&\n            <div className={styles.button}>\n                <Button\n                    color='primary'\n                    onClick={endGame}\n                    variant='contained'\n                >\n                    End Game\n                </Button>\n            </div>\n            }\n        </>\n    );\n\n    const GameNotInProgress = () => (\n        Object.keys(lobbyInfo).length > 0\n        ? <>\n            <Typography className={styles.gameTitle} variant='h3'>{lobbyInfo.creatorName}'s Game</Typography>\n            {lobbyInfo.creatorId === props.userId &&\n            <>\n                <label htmlFor='mafia-members' className={styles.mafiaMembersLabel}>Number of mafia members:</label>\n                <NumMafiaInput\n                    numMafia={numMafiaRef}\n                    socket={props.socket}\n                    lobbyId={props.lobbyId}\n                />\n            </>\n            }\n            <Box className={styles.playersBox}>\n                <Typography variant='h5'>Players:</Typography>\n                <LobbyPlayersList\n                    creatorId={lobbyInfo.creatorId}\n                    creatorName={lobbyInfo.creatorName}\n                    socket={props.socket}\n                    lobbyId={props.lobbyId}\n                />\n            </Box>\n            <div className={styles.gameButtons}>\n                {lobbyInfo.creatorId === props.userId &&\n                <div className={styles.button}>\n                    <Button color='primary' onClick={startGame} variant='contained'>Start Game</Button>\n                </div>\n                }\n                <div className={styles.button}>\n                    <Button color='primary' onClick={leaveGame} variant='contained'>Leave Game</Button>\n                </div>\n            </div>\n        </>\n        : <></>\n    );\n\n    return (\n        <Box className={styles.container}>\n            { inProgress ? <GameInProgress /> : <GameNotInProgress /> }\n        </Box>\n    );\n};\n\nexport default LobbyPage;","import React, {useEffect, useRef, useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport uuid from 'uuid';\nimport io from 'socket.io-client';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport AllLobbiesBox from '../AllLobbiesBox/AllLobbiesBox';\nimport LobbyPage from '../LobbyPage/LobbyPage';\nimport styles from './Home.module.css'\n\nconst endpoint = 'http://127.0.0.1:4001';\n\nconst Home = (props) => {\n    const [currentPlayerLobbyId, setCurrentPlayerLobbyId] = useState(null);\n    const [socketActive, setSocketActive] = useState(false);\n\n    const socketRef = useRef(null);\n\n    useEffect(() => {\n        socketRef.current = io(endpoint, {\n            transports: ['websocket'],\n            upgrade: false,\n        });\n        setSocketActive(true);\n    }, []);\n\n    useEffect(() => {\n        socketRef.current.emit('current-player', props.userId, { name: props.name });\n\n        return () => socketRef.current.emit('player-disconnect', props.userId);\n    }, [props.userId, props.name]);\n\n    useEffect(() => {\n        window.addEventListener('beforeunload',  event => {\n            socketRef.current.emit('player-disconnect', props.userId);\n        });\n\n        socketRef.current.on('disconnect', () => {\n            socketRef.current.emit('player-disconnect', props.userId);\n        });\n\n        socketRef.current.on('reconnecting', () => {\n            socketRef.current.emit('player-reconnect', props.userId);\n        });\n    }, [props.userId]);\n\n    useEffect(() => {\n        socketRef.current.on('lobby-destroyed', lobbyId => {\n            if (lobbyId === currentPlayerLobbyId) {\n                setCurrentPlayerLobbyId(null);\n            }\n        });\n    }, [currentPlayerLobbyId]);\n\n    const createLobby = () => {\n        const lobbyId = uuid.v1();\n\n        socketRef.current.emit('new-lobby', lobbyId, props.userId);\n\n        setCurrentPlayerLobbyId(lobbyId);\n\n        socketRef.current.emit('lobby-info-request', lobbyId);\n    };\n\n    return (\n        currentPlayerLobbyId === null\n        ? (\n            <div className={styles.homeContent}>\n                <div className={styles.nameRow}>\n                    <div className={styles.backToNameChange}>\n                        <Link className={styles.navLink} to='/name-entry'>\n                            <Button type='button' color='primary' size='small' variant='outlined' startIcon={<ArrowBackIcon />}>\n                                Change Name\n                            </Button>\n                        </Link>\n                    </div>\n                    <div className={styles.signedInAsText}>\n                        <Typography>Signed in as: {props.name}</Typography>\n                    </div>\n                </div>\n                {socketActive &&\n                <AllLobbiesBox\n                    userId={props.userId}\n                    socket={socketRef.current}\n                    setCurrentPlayerLobbyId={setCurrentPlayerLobbyId}\n                />}\n                <div className={styles.createLobbyButton}>\n                    <Button onClick={createLobby} color='primary' variant='contained'>New Lobby</Button>\n                </div>\n            </div>\n        ) : (\n            <LobbyPage\n                lobbyId={currentPlayerLobbyId}\n                userId={props.userId}\n                setCurrentPlayerLobbyId={setCurrentPlayerLobbyId}\n                socket={socketRef.current}\n            />\n        )\n    );\n};\n\nexport default Home;","import React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from \"@material-ui/core/Typography\";\nimport styles from './NameEntry.module.css';\n\nconst NameEntry = (props) => {\n    const { authenticate } = props;\n\n    return (\n        <Box className={styles.container}>\n            <form onSubmit={authenticate}>\n                <Typography className={styles.greeting} variant='h2'>Welcome to RL Mafia!</Typography>\n                <div className={styles.nameInput}>\n                    <label className={styles.nameLabel} htmlFor=\"name\">Name:</label>\n                    <input\n                        className={styles.nameTextBox}\n                        onChange={(e) => props.setName(e.target.value)}\n                        placeholder=\"Enter Name\"\n                        type=\"text\"\n                    />\n                </div>\n                <div className={styles.submitButton}>\n                    <Button color='primary' type='submit' variant='contained'>Submit</Button>\n                </div>\n            </form>\n        </Box>\n    );\n};\n\nexport default NameEntry;","import React, {useCallback, useState } from 'react';\nimport { Route, useHistory, Redirect } from 'react-router-dom';\nimport uuid from 'uuid';\nimport Home from '../Home/Home';\nimport NameEntry from '../NameEntry/NameEntry';\nimport styles from './Main.module.css'\n\n\nconst Main = () => {\n    const [name, setName] = useState('');\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [id, setId] = useState('');\n\n    const history = useHistory();\n\n    const authenticate = useCallback((e) => {\n        e.preventDefault();\n        setIsAuthenticated(true);\n        setId(uuid.v1());\n        history.push('/lobbies')\n    }, [history]);\n\n    return (\n        <div className={styles.main}>\n            <Route\n                exact\n                path='/name-entry'\n                render = {() =>\n                    <NameEntry setName={setName} authenticate={authenticate} />\n                }\n            />\n            {!isAuthenticated &&\n                <Redirect to='/name-entry' />\n            }\n            <Route\n                exact\n                path='/lobbies'\n                render = {() =>\n                    <Home name={name} userId={id} />\n                }\n            />\n        </div>\n    )\n};\n\nexport default Main;","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './App.css';\nimport Main from './components/Main/Main';\n\nconst App = () => (\n    <Router>\n        <Main />\n    </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"LobbyCard_card__2h4e-\",\"cardBody\":\"LobbyCard_cardBody__2FG6p\",\"cardContent\":\"LobbyCard_cardContent__8YC9n\",\"cardNumPlayers\":\"LobbyCard_cardNumPlayers__13kOF\",\"cardTitle\":\"LobbyCard_cardTitle__3aRMj\",\"openGameText\":\"LobbyCard_openGameText__jFJR1\",\"inProgressGameText\":\"LobbyCard_inProgressGameText__3rUsN\",\"joinButton\":\"LobbyCard_joinButton__1ooPx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backToNameChange\":\"Home_backToNameChange__1Dq8u\",\"createLobbyButton\":\"Home_createLobbyButton__15Rzh\",\"homeContent\":\"Home_homeContent__nTAwP\",\"nameRow\":\"Home_nameRow__32mFW\",\"navLink\":\"Home_navLink__3b7iQ\",\"signedInAsText\":\"Home_signedInAsText__3Lmx8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NameEntry_container__1MeJb\",\"greeting\":\"NameEntry_greeting__cP65N\",\"nameInput\":\"NameEntry_nameInput__1J61n\",\"nameLabel\":\"NameEntry_nameLabel__3gZC9\",\"nameTextBox\":\"NameEntry_nameTextBox__33amT\",\"submitButton\":\"NameEntry_submitButton__14pAY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allLobbies\":\"AllLobbiesBox_allLobbies__3f7OU\",\"noGamesMessage\":\"AllLobbiesBox_noGamesMessage__CUWsT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerCard\":\"PlayerCard_playerCard__2O99i\",\"playerName\":\"PlayerCard_playerName__2ydcQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textField\":\"NumMafiaInput_textField__WmyDb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allPlayerCards\":\"LobbyPlayersList_allPlayerCards__3mr3H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3de2d\"};"],"sourceRoot":""}